# vislab - проект отрисовки схемы взаимодействия микросервисов средствами neo4j

## Структура проекта

- `example/conf.yaml` - файл примера конфигов сервиса, поддерживаемые функции:
- `example/parse_conf.yaml` - файл примера конфига парсинга конфигов сервисов, поддерживаемые функции:
  - `parse` - парсинг строки
  - `weight` - вес значения, пока не поддерживается, но планируется
  - `if` - условие выполняемой при булевом значении ключа
  - `*` - пропуск ключа
  - `[]` - отображение массива как мапу, для случаев, когда под одним ключом может быть как массив так и другой ключ, типа такого:

```yaml
brokers:
  _default:
    - name: {{ .kafka.name | weight 0 }}
      hosts:
        - {{ parse .kafka.host:.kafka.port | weight 0 }}
  "[]":
    - name: {{ .kafka.name }}
      hosts:
        - {{ parse .kafka.host:.kafka.port }}
```
